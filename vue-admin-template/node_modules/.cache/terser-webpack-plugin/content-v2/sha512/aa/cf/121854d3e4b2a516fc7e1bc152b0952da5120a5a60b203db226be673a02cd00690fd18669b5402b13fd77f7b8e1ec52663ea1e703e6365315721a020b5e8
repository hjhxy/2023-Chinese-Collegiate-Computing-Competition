{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5287e9d0\"],{\"0e03\":function(t,e,i){\"use strict\";i(\"51b7\")},\"51b7\":function(t,e,i){},5227:function(t,e,i){\"use strict\";i.d(e,\"a\",(function(){return n}));var a=i(\"b775\");function n(t){return Object(a[\"a\"])({url:\"/system/checklist\",method:\"get\",params:t})}},\"8d76\":function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"camera_root\"},[i(\"el-card\",{style:{height:t.screenHeight+\"px\"}},[i(\"baidu-map\",{style:{display:\"flex\",\"flex-direction\":\"column-reverse\",width:\"100%\",height:t.screenHeight-50+\"px\"},attrs:{id:\"allmap\",\"scroll-wheel-zoom\":!0},on:{ready:t.mapReady,click:t.getLocation}},[i(\"el-divider\"),i(\"div\",{staticStyle:{display:\"flex\",\"justify-content\":\"center\",\"margin-bottom\":\"5px\"}},[i(\"bm-auto-complete\",{attrs:{\"sug-style\":{zIndex:999999}},model:{value:t.searchJingwei,callback:function(e){t.searchJingwei=e},expression:\"searchJingwei\"}},[i(\"el-input\",{staticStyle:{width:\"300px\",\"margin-right\":\"15px\"},attrs:{placeholder:\"输入地址\"},model:{value:t.searchJingwei,callback:function(e){t.searchJingwei=e},expression:\"searchJingwei\"}})],1),i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.getBaiduMapPoint}},[t._v(\"搜索\")])],1),i(\"bm-map-type\",{attrs:{\"map-types\":[\"BMAP_NORMAL_MAP\",\"BMAP_HYBRID_MAP\"],anchor:\"BMAP_ANCHOR_TOP_LEFT\"}}),t.infoWindowShow?i(\"bm-marker\",{attrs:{position:{lng:t.longitude,lat:t.latitude}}},[i(\"bm-label\",{attrs:{content:\"\",\"label-style\":{color:\"red\",fontSize:\"24px\"},offset:{width:-35,height:30}}})],1):t._e(),i(\"bm-info-window\",{staticStyle:{height:\"200px\",overflow:\"auto\"},attrs:{position:{lng:t.longitude,lat:t.latitude},show:t.infoWindowShow},on:{clickclose:t.infoWindowClose}},[i(\"img\",{staticClass:\"srcimg\",attrs:{src:t.getBaseUrl()+t.value.url,title:\"点击预览\"},on:{click:function(e){return t.handlePictureCardPreview(t.value.url)}}}),i(\"img\",{staticClass:\"modelimg\",attrs:{src:t.getBaseUrl()+t.value.modelurl,title:\"点击预览\"},on:{click:function(e){return t.handlePictureCardPreview(t.value.modelurl)}}}),i(\"div\",[t._v(\"纬度:\"+t._s(this.latitude))]),i(\"div\",[t._v(\"经度:\"+t._s(this.longitude))])])],1)],1),i(\"el-card\",{style:{height:t.screenHeight+\"px\",display:\"flex\",\"flex-direction\":\"column\",overflow:\"auto\"}},[i(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[i(\"span\",[t._v(\"道路检测报告\")]),i(\"el-button\",{staticStyle:{float:\"right\",padding:\"3px 0\"},attrs:{type:\"text\"},on:{click:function(e){return t.getPdf(\"页面导出PDF文件名\")}}},[t._v(\"报告导出\")])],1),i(\"div\",{staticClass:\"body\",attrs:{id:\"pdfDom\"}},[i(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.mapDataList}},[i(\"el-table-column\",{attrs:{prop:\"user_id\",label:\"用户id\"}}),i(\"el-table-column\",{attrs:{prop:\"check_type\",label:\"检测类型\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(\"img\"==e.row.check_type?\"图片\":\"视频\")+\" \")]}}])}),i(\"el-table-column\",{attrs:{prop:\"check_time\",label:\"检测时间\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(t.handlerTime(e.row.check_time))+\" \")]}}])}),i(\"el-table-column\",{attrs:{label:\"原始图片/视频\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[\"img\"==e.row.check_type?i(\"img\",{staticStyle:{width:\"150px\",height:\"auto\",cursor:\"pointer\"},attrs:{src:t.getBaseUrl()+e.row.srcurl,title:\"点击预览\"},on:{click:function(i){return t.handlePictureCardPreview(e.row.srcurl,\"img\")}}}):i(\"video\",{staticStyle:{width:\"150px\",height:\"auto\"},attrs:{src:t.getBaseUrl()+e.row.srcurl,crossOrigin:\"Anonymous\"},on:{click:function(i){return t.handlePictureCardPreview(e.row.srcurl,\"video\")}}})]}}])}),i(\"el-table-column\",{attrs:{label:\"检测结果\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[\"img\"==e.row.check_type?i(\"img\",{staticStyle:{width:\"150px\",height:\"auto\",cursor:\"pointer\"},attrs:{src:t.getBaseUrl()+e.row.url,title:\"点击预览\"},on:{click:function(i){return t.handlePictureCardPreview(e.row.url,\"img\")}}}):i(\"video\",{staticStyle:{width:\"150px\",height:\"auto\"},attrs:{src:t.getBaseUrl()+e.row.url,crossOrigin:\"Anonymous\"},on:{click:function(i){return t.handlePictureCardPreview(e.row.url,\"video\")}}})]}}])})],1)],1)]),i(\"el-dialog\",{attrs:{visible:t.dialogVisible},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[i(\"img\",{attrs:{width:\"100%\",src:t.dialogImageUrl,alt:\"\",title:\"点击在新窗口预览\"},on:{click:t.openImg}})])],1)},n=[],r=(i(\"fb6a\"),i(\"d81d\"),i(\"313e\")),o=i(\"a766\"),l=i(\"ded9\"),s=i(\"5227\"),c={mixins:[o[\"a\"],l[\"a\"]],data:function(){return{searchJingwei:\"\",infoWindowShow:!1,longitude:\"\",latitude:\"\",point:\"\",dialogVisible:!1,dialogImageUrl:\"\",value:{url:\"/static/img/testres.jpg\",modelurl:\"/static/resImg/testres.jpg\"},mapDataList:[],chart:null}},mounted:function(){this.initChart()},methods:{handlerTime:function(t){return String(new Date(parseInt(t))).slice(10,-10)},fetchData:function(t){var e=this;this.listLoading=!0,Object(s[\"a\"])().then((function(t){e.mapDataList=t.data.items.slice(0,3)})).catch((function(){console.log(\"获取数据错误\")}))},mapReady:function(t){var e=t.BMap,i=t.map;this.point=new e.Point(113.27,23.13),i.centerAndZoom(this.point,12),this.BMap=e,this.map=i},getLocation:function(t){this.longitude=t.point.lng,this.latitude=t.point.lat,this.infoWindowShow=!0,this.fetchData()},getBaiduMapPoint:function(){var t=this,e=new this.BMap.Geocoder;this.fetchData(),e.getPoint(this.searchJingwei,(function(e){e&&(t.map.centerAndZoom(e,15),t.latitude=e.lat,t.longitude=e.lng)}))},infoWindowClose:function(){this.latitude=\"\",this.longitude=\"\",this.infoWindowShow=!1},handlePictureCardPreview:function(t){t=this.getBaseUrl()+t,this.dialogImageUrl=t,this.dialogVisible=!0},openImg:function(){window.open(this.dialogImageUrl)},initChart:function(){var t=this;this.chart=r[\"a\"](document.getElementById(\"base-echart\")),this.chart.setOption({xAxis:{type:\"category\",data:[\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\",\"Sun\"]},yAxis:{type:\"value\"},series:[{data:[150,230,224,218,135,147,260],type:\"line\"}]}),window.addEventListener(\"resize\",(function(){t.chart.resize(),t.chart2.resize()}))}}},u=c,d=(i(\"0e03\"),i(\"2877\")),h=Object(d[\"a\"])(u,a,n,!1,null,\"1ad530c9\",null);e[\"default\"]=h.exports},a766:function(t,e,i){\"use strict\";var a=i(\"5530\"),n=i(\"2f62\");e[\"a\"]={computed:Object(a[\"a\"])({},Object(n[\"b\"])(\"device\",[\"screenHeight\",\"screenWidth\"]))}},ded9:function(t,e,i){\"use strict\";function a(){return\"/prod-api\"}e[\"a\"]={methods:{getBaseUrl:function(){return a()}}}}}]);","extractedComments":[]}