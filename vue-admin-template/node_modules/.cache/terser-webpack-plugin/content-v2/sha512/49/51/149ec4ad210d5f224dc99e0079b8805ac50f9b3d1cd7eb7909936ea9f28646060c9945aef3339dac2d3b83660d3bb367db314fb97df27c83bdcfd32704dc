{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-deacb800\"],{\"007b\":function(e,t,s){\"use strict\";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"video_root\"},[\"\"==e.videoUrl?s(\"el-card\",{staticClass:\"original_video\"},[s(\"el-skeleton\",{attrs:{loading:e.loading,animated:\"\"}},[s(\"template\",{slot:\"template\"},[s(\"el-skeleton-item\",{style:{width:\"100%\",height:e.screenHeight-50+\"px\"},attrs:{variant:\"image\"}})],1),[s(\"el-upload\",{ref:\"upload\",staticClass:\"avatar-uploader\",attrs:{action:e.getBaseUrl()+\"/uploadvideo\",\"show-file-list\":!1,\"on-success\":e.handleSuccess,\"before-upload\":e.handleBeforeUpload,headers:{token:e.token}}},[s(\"i\",{staticClass:\"el-icon-plus avatar-uploader-icon\"})])]],2)],1):s(\"el-card\",{staticClass:\"new_video\"},[s(\"video\",{attrs:{src:e.videoUrl,autoplay:\"\",controls:\"controls\",crossOrigin:\"Anonymous\"}},[e._v(\" 您的浏览器不支持 video 标签。 \")])]),s(\"el-card\",{staticClass:\"contronal\",style:{height:e.screenHeight+\"px\"}},[s(\"div\",{staticClass:\"clearfix\",attrs:{slot:\"header\"},slot:\"header\"},[s(\"span\",{staticStyle:{\"font-size\":\"20px\",\"font-weight\":\"700\"}},[e._v(\"控制台\")]),s(\"button\",{staticClass:\"choose_button\",staticStyle:{float:\"right\",padding:\"5px\"}},[e._v(\"确认设置\")])]),s(\"el-card\",{staticClass:\"showdata\"},[s(\"div\",[s(\"b\",[e._v(\"检测用时：\")]),e._v(e._s(e.videoUrl?15:0)+\" s\")]),s(\"div\",[s(\"b\",[e._v(\"目标数：\")]),e._v(e._s(e.videoUrl?89:0))]),s(\"div\",[s(\"b\",[e._v(\"检测速度：\")]),e._v(e._s(e.videoUrl?41:0)+\" FPS\")])]),s(\"div\",{staticClass:\"showbtns\"},[s(\"div\",{staticClass:\"progress_msg\"},[s(\"div\",{staticClass:\"process_left\"},[s(\"div\",[e._v(\"NMS-IOU\")]),s(\"div\",[e._v(\"Confidence\")])]),s(\"div\",{staticClass:\"process_center\"},e._l(e.progressState,(function(e,t){return s(\"el-progress\",{key:t,attrs:{\"text-inside\":!0,\"stroke-width\":20,percentage:e.percentage,status:\"exception\"}})})),1),s(\"div\",{staticClass:\"process_right\"},e._l(e.progressState,(function(t,i){return s(\"div\",{key:i,staticClass:\"buttons\"},[s(\"span\",{on:{click:function(s){return e.subProgress(t)}}},[e._v(\"-\")]),s(\"span\",{on:{click:function(s){return e.addProgress(t)}}},[e._v(\"+\")])])})),0)]),s(\"div\",{staticClass:\"other_choose\"},[s(\"div\",{staticClass:\"choose_button el-icon-delete-solid\",on:{click:e.clearVideo}},[e._v(\"视频缓存清空\")]),s(\"div\",{staticClass:\"choose_button el-icon-download\",on:{click:function(t){e.videoUrl&&e.downVideo(e.videoUrl)}}},[e._v(\"检测视频下载\")])])])],1)],1)},a=[],o=(s(\"ac1f\"),s(\"00b4\"),s(\"a766\")),n=s(\"ded9\"),r=s(\"5f87\"),c=s(\"989b\"),d={name:\"Video\",mixins:[o[\"a\"],n[\"a\"]],ischecking:!1,data:function(){return{dialogImageUrl:\"\",dialogVisible:!1,videoUrl:\"\",loading:!1,progressState:[{id:1,percentage:30},{id:2,percentage:50}],token:\"\"}},mounted:function(){this.token=Object(r[\"a\"])()},methods:{clearVideo:function(){this.$refs.upload.clearFiles(),this.imglist=[]},handleBeforeUpload:function(e){var t=e.type;return/video/.test(t)?(this.$message({message:\"视频检测中...请稍候\",type:\"success\"}),this.loading=!0,!0):(this.$message({message:\"只能上传视频\",type:\"warning\"}),!1)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleSuccess:function(e,t){this.videoUrl=\"/prod-api\"+e.url,this.$message({message:\"视频检测成功\",type:\"success\"}),this.loading=!1},subProgress:function(e){e.percentage<=0||(e.percentage-=10)},addProgress:function(e){e.percentage>=100||(e.percentage+=10)},downVideo:function(e){Object(c[\"a\"])(e)}}},l=d,u=(s(\"ec9c\"),s(\"2877\")),v=Object(u[\"a\"])(l,i,a,!1,null,\"027d6280\",null);t[\"default\"]=v.exports},\"65b2\":function(e,t,s){},\"989b\":function(e,t,s){\"use strict\";s.d(t,\"b\",(function(){return i})),s.d(t,\"a\",(function(){return a}));s(\"b680\"),s(\"d3b7\"),s(\"3ca3\"),s(\"ddb0\"),s(\"2b3d\"),s(\"9861\");function i(e,t){var s=e,i=new Image;i.setAttribute(\"crossOrigin\",\"anonymous\"),i.onload=function(){var e=document.createElement(\"canvas\");e.width=i.width,e.height=i.height;var s=e.getContext(\"2d\");s.drawImage(i,0,0,i.width,i.height);var a=e.toDataURL(\"image/png\"),o=document.createElement(\"a\");o.download=t,o.href=a,o.click()},i.src=s}function a(e){var t=new XMLHttpRequest;t.open(\"GET\",e,!0),t.addEventListener(\"progress\",(function(e){if(e.lengthComputable){var t=e.loaded/e.total;console.log((100*t).toFixed(2)+\"%\")}}),!1),t.responseType=\"blob\",t.onload=function(){if(4===t.readyState&&200===t.status){var s=this.response,i=window.URL.createObjectURL(new Blob([s],{type:\"video/mp4\"})),a=document.createElement(\"a\");a.download=e,a.href=i,a.style.display=\"none\",document.body.appendChild(a),a.click(),a.remove()}},t.send()}},a766:function(e,t,s){\"use strict\";var i=s(\"5530\"),a=s(\"2f62\");t[\"a\"]={computed:Object(i[\"a\"])({},Object(a[\"b\"])(\"device\",[\"screenHeight\",\"screenWidth\"]))}},ded9:function(e,t,s){\"use strict\";function i(){return\"/prod-api\"}t[\"a\"]={methods:{getBaseUrl:function(){return i()}}}},ec9c:function(e,t,s){\"use strict\";s(\"65b2\")}}]);","extractedComments":[]}