{"remainingRequest":"E:\\aproject\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js!E:\\aproject\\vue-admin-template\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\aproject\\vue-admin-template\\src\\utils\\htmlToPdf.js","dependencies":[{"path":"E:\\aproject\\vue-admin-template\\src\\utils\\htmlToPdf.js","mtime":1682698032944},{"path":"E:\\aproject\\vue-admin-template\\babel.config.js","mtime":1680534710653},{"path":"E:\\aproject\\vue-admin-template\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1683245853943},{"path":"E:\\aproject\\vue-admin-template\\node_modules\\babel-loader\\lib\\index.js","mtime":1683245855206},{"path":"E:\\aproject\\vue-admin-template\\node_modules\\eslint-loader\\index.js","mtime":1683245854223}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8g5a+85Ye66aG16Z2i5Li6UERG5qC85byPCmltcG9ydCBodG1sMkNhbnZhcyBmcm9tICdodG1sMmNhbnZhcyc7CmltcG9ydCBKc1BERiBmcm9tICdqc3BkZic7CmV4cG9ydCBkZWZhdWx0IHsKICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgVnVlLnByb3RvdHlwZS5nZXRQZGYgPSBmdW5jdGlvbiAodGl0bGUpIHsKICAgICAgaHRtbDJDYW52YXMoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BkZkRvbScpLCB7CiAgICAgICAgYWxsb3dUYWludDogdHJ1ZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChjYW52YXMpIHsKICAgICAgICB2YXIgY29udGVudFdpZHRoID0gY2FudmFzLndpZHRoOwogICAgICAgIHZhciBjb250ZW50SGVpZ2h0ID0gY2FudmFzLmhlaWdodDsKICAgICAgICB2YXIgcGFnZUhlaWdodCA9IGNvbnRlbnRXaWR0aCAvIDU5Mi4yOCAqIDg0MS44OTsKICAgICAgICB2YXIgbGVmdEhlaWdodCA9IGNvbnRlbnRIZWlnaHQ7CiAgICAgICAgdmFyIHBvc2l0aW9uID0gMDsKICAgICAgICB2YXIgaW1nV2lkdGggPSA1OTUuMjg7CiAgICAgICAgdmFyIGltZ0hlaWdodCA9IDU5Mi4yOCAvIGNvbnRlbnRXaWR0aCAqIGNvbnRlbnRIZWlnaHQ7CiAgICAgICAgdmFyIHBhZ2VEYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvanBlZycsIDEuMCk7CiAgICAgICAgdmFyIFBERiA9IG5ldyBKc1BERignJywgJ3B0JywgJ2E0Jyk7CiAgICAgICAgaWYgKGxlZnRIZWlnaHQgPCBwYWdlSGVpZ2h0KSB7CiAgICAgICAgICBQREYuYWRkSW1hZ2UocGFnZURhdGEsICdKUEVHJywgMCwgMCwgaW1nV2lkdGgsIGltZ0hlaWdodCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdoaWxlIChsZWZ0SGVpZ2h0ID4gMCkgewogICAgICAgICAgICBQREYuYWRkSW1hZ2UocGFnZURhdGEsICdKUEVHJywgMCwgcG9zaXRpb24sIGltZ1dpZHRoLCBpbWdIZWlnaHQpOwogICAgICAgICAgICBsZWZ0SGVpZ2h0IC09IHBhZ2VIZWlnaHQ7CiAgICAgICAgICAgIHBvc2l0aW9uIC09IDg0MS44OTsKICAgICAgICAgICAgaWYgKGxlZnRIZWlnaHQgPiAwKSB7CiAgICAgICAgICAgICAgUERGLmFkZFBhZ2UoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBQREYuc2F2ZSh0aXRsZSArICcucGRmJyk7CiAgICAgIH0pOwogICAgfTsKICB9Cn07"},{"version":3,"names":["html2Canvas","JsPDF","install","Vue","options","prototype","getPdf","title","document","querySelector","allowTaint","then","canvas","contentWidth","width","contentHeight","height","pageHeight","leftHeight","position","imgWidth","imgHeight","pageData","toDataURL","PDF","addImage","addPage","save"],"sources":["E:/aproject/vue-admin-template/src/utils/htmlToPdf.js"],"sourcesContent":["// 导出页面为PDF格式\nimport html2Canvas from 'html2canvas'\nimport JsPDF from 'jspdf'\nexport default {\n  install(Vue, options) {\n    Vue.prototype.getPdf = function(title) {\n      html2Canvas(document.querySelector('#pdfDom'), {\n        allowTaint: true\n      }).then(function(canvas) {\n        const contentWidth = canvas.width\n        const contentHeight = canvas.height\n        const pageHeight = contentWidth / 592.28 * 841.89\n        let leftHeight = contentHeight\n        let position = 0\n        const imgWidth = 595.28\n        const imgHeight = 592.28 / contentWidth * contentHeight\n        const pageData = canvas.toDataURL('image/jpeg', 1.0)\n        const PDF = new JsPDF('', 'pt', 'a4')\n        if (leftHeight < pageHeight) {\n          PDF.addImage(pageData, 'JPEG', 0, 0, imgWidth, imgHeight)\n        } else {\n          while (leftHeight > 0) {\n            PDF.addImage(pageData, 'JPEG', 0, position, imgWidth, imgHeight)\n            leftHeight -= pageHeight\n            position -= 841.89\n            if (leftHeight > 0) {\n              PDF.addPage()\n            }\n          }\n        }\n        PDF.save(title + '.pdf')\n      }\n      )\n    }\n  }\n}\n"],"mappings":"AAAA;AACA,OAAOA,WAAW,MAAM,aAAa;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,eAAe;EACbC,OAAO,WAAAA,QAACC,GAAG,EAAEC,OAAO,EAAE;IACpBD,GAAG,CAACE,SAAS,CAACC,MAAM,GAAG,UAASC,KAAK,EAAE;MACrCP,WAAW,CAACQ,QAAQ,CAACC,aAAa,CAAC,SAAS,CAAC,EAAE;QAC7CC,UAAU,EAAE;MACd,CAAC,CAAC,CAACC,IAAI,CAAC,UAASC,MAAM,EAAE;QACvB,IAAMC,YAAY,GAAGD,MAAM,CAACE,KAAK;QACjC,IAAMC,aAAa,GAAGH,MAAM,CAACI,MAAM;QACnC,IAAMC,UAAU,GAAGJ,YAAY,GAAG,MAAM,GAAG,MAAM;QACjD,IAAIK,UAAU,GAAGH,aAAa;QAC9B,IAAII,QAAQ,GAAG,CAAC;QAChB,IAAMC,QAAQ,GAAG,MAAM;QACvB,IAAMC,SAAS,GAAG,MAAM,GAAGR,YAAY,GAAGE,aAAa;QACvD,IAAMO,QAAQ,GAAGV,MAAM,CAACW,SAAS,CAAC,YAAY,EAAE,GAAG,CAAC;QACpD,IAAMC,GAAG,GAAG,IAAIvB,KAAK,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC;QACrC,IAAIiB,UAAU,GAAGD,UAAU,EAAE;UAC3BO,GAAG,CAACC,QAAQ,CAACH,QAAQ,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAEF,QAAQ,EAAEC,SAAS,CAAC;QAC3D,CAAC,MAAM;UACL,OAAOH,UAAU,GAAG,CAAC,EAAE;YACrBM,GAAG,CAACC,QAAQ,CAACH,QAAQ,EAAE,MAAM,EAAE,CAAC,EAAEH,QAAQ,EAAEC,QAAQ,EAAEC,SAAS,CAAC;YAChEH,UAAU,IAAID,UAAU;YACxBE,QAAQ,IAAI,MAAM;YAClB,IAAID,UAAU,GAAG,CAAC,EAAE;cAClBM,GAAG,CAACE,OAAO,EAAE;YACf;UACF;QACF;QACAF,GAAG,CAACG,IAAI,CAACpB,KAAK,GAAG,MAAM,CAAC;MAC1B,CAAC,CACA;IACH,CAAC;EACH;AACF,CAAC"}]}